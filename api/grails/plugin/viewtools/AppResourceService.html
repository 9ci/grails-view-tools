<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (2.4.11) on Sun Oct 15 06:16:25 UTC 2017 -->
    <title>AppResourceService (view-tools 0.10-SNAPSHOT API)</title>
    <meta name="date" content="2017-10-15">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="AppResourceService (view-tools 0.10-SNAPSHOT API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../index-all.html">Index</a></li>
        <li><a href="../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../index.html?grails/plugin/viewtools/AppResourceService" target="_top">Frames</a></li>
            <li><a href="AppResourceService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>grails.plugin.viewtools</strong></div>

    <h2 title="[Groovy] Class AppResourceService" class="title">[Groovy] Class AppResourceService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>grails.plugin.viewtools.AppResourceService
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">

            <dl>
                <dt>All Implemented Interfaces and Traits:</dt>
                <dd>org.springframework.core.io.ResourceLoader, grails.core.support.GrailsConfigurationAware</dd>
            </dl>
            <!-- todo: direct known subclasses -->
            <hr>
            <br>
<pre>class AppResourceService
extends java.lang.Object

</pre>



    <p> A place for file resource related functionality which may required an application context or logged-in user.
 Things related to the attachments directory or the tempUploadsDirectory or any other directory
 we reference from Config.groovy would go here, especially if they require GString-like parsing.

 See Attachments and application.groovy for more description of how this works

 </p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        
            <ul class="blockList">
                <li class="blockList"><a name="field_summary"><!--   --></a>
                    <h3>Field Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum constants summary table">
                        <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Modifiers</th>
                            <th class="colLast" scope="col">Name</th>
                            <th class="colLast" scope="col">Description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#ATTACHMENT_LOCATION_KEY">ATTACHMENT_LOCATION_KEY</a></code></td>
                            <td class="colLast"></td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
                
            </ul>
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>grails.core.GrailsApplication</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#grailsApplication">grailsApplication</a></code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>org.springframework.core.io.ResourceLoader</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#resourceLoader">resourceLoader</a></code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#resourcesConfigRootKey">resourcesConfigRootKey</a></code><br>The path to resources config root. eg "nine.resources"</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type Params</th>
                            <th class="colLast" scope="col">Return Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#buildResourceKey(java.lang.String)">buildResourceKey</a></strong>(java.lang.String subKey)</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.Map</code></td>
                            <td class="colLast"><code><strong><a href="#createAttachmentFile(java.lang.Long, java.lang.String, java.lang.String, def)">createAttachmentFile</a></strong>(java.lang.Long attachmentId, java.lang.String name, java.lang.String extension, java.lang.Object data)</code><br>Creates (or move) file relative to the MonthDirectory.
 </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#createTempFile(java.lang.String, def)">createTempFile</a></strong>(java.lang.String originalFileName, java.lang.Object data)</code><br>Creates a temp file inside the tempDir and, optionally, populates it with data.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#deleteTempUploadedFiles(java.lang.String)">deleteTempUploadedFiles</a></strong>(java.lang.String attachmentListJson)</code><br>Deletes any files in the temp directory which are in the list.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#deleteTempUploadedFiles(java.util.List)">deleteTempUploadedFiles</a></strong>(java.util.List attachmentList)</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#forceMkdir(java.lang.String)">forceMkdir</a></strong>(java.lang.String path)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getAttachmentsRelativePath(java.io.File)">getAttachmentsRelativePath</a></strong>(java.io.File file)</code><br>returns the path relative to the the attachments directory</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.ClassLoader</code></td>
                            <td class="colLast"><code><strong><a href="#getClassLoader()">getClassLoader</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.Map</code></td>
                            <td class="colLast"><code><strong><a href="#getCurrentTenant()">getCurrentTenant</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getFile(java.lang.String)">getFile</a></strong>(java.lang.String location)</code><br>Shorthand way to get the attachment file with nothing but the location column contents.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getLocation(java.lang.String, java.util.Map, boolean)">getLocation</a></strong>(java.lang.String key, java.util.Map args = [:], boolean create = true)</code><br>Get a configured directory location from a nine.resources key.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getMonthDirectory(java.lang.String, boolean)">getMonthDirectory</a></strong>(java.lang.String configKey, boolean create = true)</code><br>Gets a month directory for a configuration key.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getProperFile(java.lang.String, java.lang.String, boolean)">getProperFile</a></strong>(java.lang.String fileName, java.lang.String key, boolean create = true)</code><br>getProperFile builds a File from a name and ensures it exists, or throws an error.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getRelativePath(java.lang.String, java.io.File)">getRelativePath</a></strong>(java.lang.String key = 'rootLocation', java.io.File child)</code><br>gets the path relative to some configured directory.  </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getRelativePath(java.io.File, java.io.File)">getRelativePath</a></strong>(java.io.File parent, java.io.File child)</code><br>gets the relative path of the child with respect to the parent
 The child must be inside of the parent or the resulting string is null.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getRelativeTempPath(java.io.File)">getRelativeTempPath</a></strong>(java.io.File file)</code><br>returns the path relative to the the temporary resource directory</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>org.springframework.core.io.Resource</code></td>
                            <td class="colLast"><code><strong><a href="#getResource(java.lang.String)">getResource</a></strong>(java.lang.String location)</code><br>if location starts with a / then it realtive to the war (web-app).
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.Object</code></td>
                            <td class="colLast"><code><strong><a href="#getResourceConfig(java.lang.String)">getResourceConfig</a></strong>(java.lang.String subKey)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>org.springframework.core.io.Resource</code></td>
                            <td class="colLast"><code><strong><a href="#getResourceDirFromKey(java.lang.String)">getResourceDirFromKey</a></strong>(java.lang.String key)</code><br>get resource dir relative to the config key
 if key is null then it return the root location</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>org.springframework.core.io.Resource</code></td>
                            <td class="colLast"><code><strong><a href="#getResourceRelative(java.lang.String, java.lang.String)">getResourceRelative</a></strong>(java.lang.String locationBase, java.lang.String location)</code><br>gets a resource with a locationBase and a relative location
   - if relative location starts with "/" just pass it to getResource() and ignore locationBase (will look in war (web-app in dev))
   - if locationBase is null then we will use a default getLocation('attachments.location')
   - if relative location starts with URL like classpath:,file:, http: it be passed directly to resourceLoader
   - if locationBase starts with config: then it will use whatever key comes after
     to find the location (ex- config:reports.location)</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getRootLocation()">getRootLocation</a></strong>()</code><br>Gets the rootLocation which is the base for all the app-related directories.
 </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.List</code></td>
                            <td class="colLast"><code><strong><a href="#getScripts(java.util.Map)">getScripts</a></strong>(java.util.Map args = [:])</code><br>Get a list of script locations as absolute files.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getSubDirectory(java.lang.String, java.lang.String, boolean, java.util.Map)">getSubDirectory</a></strong>(java.lang.String key, java.lang.String relativePath, boolean create = true, java.util.Map args = [:])</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#getTempDir()">getTempDir</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.lang.String</code></td>
                            <td class="colLast"><code><strong><a href="#getTenantUniqueKey()">getTenantUniqueKey</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#init()">init</a></strong>()</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.util.Map</code></td>
                            <td class="colLast"><code><strong><a href="#mergeClientValues(java.util.Map)">mergeClientValues</a></strong>(java.util.Map args = [:])</code><br>If the service which wants this directory offers some additional values for substitution they can
 be passed in with an args map.  </td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>void</code></td>
                            <td class="colLast"><code><strong><a href="#setConfiguration(grails.config.Config)">setConfiguration</a></strong>(grails.config.Config co)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code></code></td>
                            <td class="colLast"><code>java.io.File</code></td>
                            <td class="colLast"><code><strong><a href="#verifyOrCreateLocation(java.io.File, java.lang.String, boolean, def)">verifyOrCreateLocation</a></strong>(java.io.File dir, java.lang.String key, boolean create, java.lang.Object wasAbsolute = false)</code><br>verifyOrCreateLocation checks for validity of the directory before it's returned.</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            
            <!-- =========== FIELD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="field_detail">
                    <!--   -->
                </a>
                    <h3>Field Detail</h3>
                    
                        <a name="ATTACHMENT_LOCATION_KEY"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>public&nbsp;static&nbsp;final&nbsp;java.lang.String <strong>ATTACHMENT_LOCATION_KEY</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="grailsApplication"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>grails.core.GrailsApplication <strong>grailsApplication</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="resourceLoader"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>org.springframework.core.io.ResourceLoader <strong>resourceLoader</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="resourcesConfigRootKey"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>resourcesConfigRootKey</strong></h4>
                                <p> The path to resources config root. eg "nine.resources"
     </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="buildResourceKey(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@groovy.transform.CompileStatic
java.lang.String <strong>buildResourceKey</strong>(java.lang.String subKey)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="createAttachmentFile(java.lang.Long, java.lang.String, java.lang.String, def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.util.Map <strong>createAttachmentFile</strong>(java.lang.Long attachmentId, java.lang.String name, java.lang.String extension, java.lang.Object data)</h4>
                                <p> Creates (or move) file relative to the MonthDirectory.
 If the data param is a File then its the temp file, rename and move.
 If data is a byte[] or a String then write to the new file
     <DL><DT><B>Returns:</B></DT><DD>A map
        location:(string of the location relative to rootLocation),
        file: the File instace that we put in that directory</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>attachmentId</code> -  the ID of the Attachment record this file is going into.</DD><DD><code>name</code> -  optional name of the file</DD><DD><code>extension</code> -  The file extension to use.</DD><DD><code>kind</code> -  The "kind" of file from AttachmentKind.name if desired</DD><DD><code>data</code> -  The contents of the file as a File(temp file), String, byte array or null.
             If its null then returns null</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="createTempFile(java.lang.String, def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>createTempFile</strong>(java.lang.String originalFileName, java.lang.Object data)</h4>
                                <p> Creates a temp file inside the tempDir and, optionally, populates it with data.
 The file is guaranteed to not have a colliding name.
 If the originalFileName has a dot in the name, then the final file short name will be
 <whateverIsBeforeTheLastDot><someRandomCharacters>.<whateverIsAfterTheLastDot>
 For example, "readme.txt" would turn out something like "readme12a35c23.txt"
     <DL><DT><B>Returns:</B></DT><DD>a non-null File instance, which has a unique name within the tempDir, and
         if data is non-null will exist and will contain the data specified.</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>originalFileName</code> -  the name of the file that was uploaded</DD><DD><code>data</code> -  is the file contents, and can be String, byte[], or null.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="deleteTempUploadedFiles(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>deleteTempUploadedFiles</strong>(java.lang.String attachmentListJson)</h4>
                                <p> Deletes any files in the temp directory which are in the list. </p>
                            </li>
                        </ul>
                    
                        <a name="deleteTempUploadedFiles(java.util.List)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>deleteTempUploadedFiles</strong>(java.util.List attachmentList)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="forceMkdir(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>void <strong>forceMkdir</strong>(java.lang.String path)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getAttachmentsRelativePath(java.io.File)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getAttachmentsRelativePath</strong>(java.io.File file)</h4>
                                <p> returns the path relative to the the attachments directory
     </p>
                            </li>
                        </ul>
                    
                        <a name="getClassLoader()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.ClassLoader <strong>getClassLoader</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getCurrentTenant()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.util.Map <strong>getCurrentTenant</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getFile(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getFile</strong>(java.lang.String location)</h4>
                                <p> Shorthand way to get the attachment file with nothing but the location column contents. </p>
                            </li>
                        </ul>
                    
                        <a name="getLocation(java.lang.String, java.util.Map, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getLocation</strong>(java.lang.String key, java.util.Map args = [:], boolean create = true)</h4>
                                <p> Get a configured directory location from a nine.resources key.
     <DL><DT><B>Returns:</B></DT><DD>one of:
     a File which references a directory.  The directory exists.
     a List of File, each entry of which is a directory which exists.</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>key</code> -  The name of the key within the 'nine.resources' construct.</DD><DD><code>env</code> -  The map of substitutions allowed</DD><DD><code>create</code> -  True if the directory should be created if missing.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getMonthDirectory(java.lang.String, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getMonthDirectory</strong>(java.lang.String configKey, boolean create = true)</h4>
                                <p> Gets a month directory for a configuration key.
     <DL><DT><B>Returns:</B></DT><DD>a File object which references the month directory, or null on error.</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>configKey</code> -  the dot notation path from the rousources base ex: "attachments.location"</DD><DD><code>create</code> -  If true, create the directory if it's missing.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getProperFile(java.lang.String, java.lang.String, boolean)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getProperFile</strong>(java.lang.String fileName, java.lang.String key, boolean create = true)</h4>
                                <p> getProperFile builds a File from a name and ensures it exists, or throws an error.
 If the name is absolute then it builds based on just that name.
 If the name is relative then it is built relative to rootLocation.
     <DL><DT><B>Returns:</B></DT><DD>the canonical File which exists.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getRelativePath(java.lang.String, java.io.File)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getRelativePath</strong>(java.lang.String key = 'rootLocation', java.io.File child)</h4>
                                <p> gets the path relative to some configured directory.  This is a shallow wrapper around
 getRelativePath(File,File).
     <DL><DT><B>Returns:</B></DT><DD>a String containing the location of child relative to the directory described by key</DD></DL><DL><DT><B>Parameters:</B></DT><DD><code>child</code> -  The file to get the relative path of.</DD><DD><code>key</code> -  The key name in RallyDefaultConfig.groovy, for example 'attachments.location'</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getRelativePath(java.io.File, java.io.File)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getRelativePath</strong>(java.io.File parent, java.io.File child)</h4>
                                <p> gets the relative path of the child with respect to the parent
 The child must be inside of the parent or the resulting string is null.
     </p>
                            </li>
                        </ul>
                    
                        <a name="getRelativeTempPath(java.io.File)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getRelativeTempPath</strong>(java.io.File file)</h4>
                                <p> returns the path relative to the the temporary resource directory
     </p>
                            </li>
                        </ul>
                    
                        <a name="getResource(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>org.springframework.core.io.Resource <strong>getResource</strong>(java.lang.String location)</h4>
                                <p> if location starts with a / then it realtive to the war (web-app).
 For example, '/WEB-INF/invoice/greenbar.ftl

 if it does not start with a / then its considered relative to the rootLocation
 For example, '2010-11/23452.pdf' would look for file://myroot/2010-11/23452.pdf if that what was set in
 nine.attachments.directory
     </p>
                            </li>
                        </ul>
                    
                        <a name="getResourceConfig(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@groovy.transform.CompileStatic
java.lang.Object <strong>getResourceConfig</strong>(java.lang.String subKey)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getResourceDirFromKey(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>org.springframework.core.io.Resource <strong>getResourceDirFromKey</strong>(java.lang.String key)</h4>
                                <p> get resource dir relative to the config key
 if key is null then it return the root location
     </p>
                            </li>
                        </ul>
                    
                        <a name="getResourceRelative(java.lang.String, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>org.springframework.core.io.Resource <strong>getResourceRelative</strong>(java.lang.String locationBase, java.lang.String location)</h4>
                                <p> gets a resource with a locationBase and a relative location
   - if relative location starts with "/" just pass it to getResource() and ignore locationBase (will look in war (web-app in dev))
   - if locationBase is null then we will use a default getLocation('attachments.location')
   - if relative location starts with URL like classpath:,file:, http: it be passed directly to resourceLoader
   - if locationBase starts with config: then it will use whatever key comes after
     to find the location (ex- config:reports.location)
    <DL><DT><B>Parameters:</B></DT><DD><code>locationBase</code> -  if null uses the default key of 'attachments.location'</DD><DD><code>location</code> -  the relative location to use</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getRootLocation()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getRootLocation</strong>()</h4>
                                <p> Gets the rootLocation which is the base for all the app-related directories.
 This must be a Closure in the config, it must return a string which will act like a GString and which
 refers to a directory which exists.
 You can use code inside the Closure to substitute values there, and also you can use:
    - ${tenantId} (Client.id)
    - ${tenantSubDomain} (Client.num)<DL><DT><B>throws:</B></DT><DD>FileNotFoundException, IllegalArgumentException</DD></DL>
     <DL><DT><B>Returns:</B></DT><DD>a File object referencing the directory.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getScripts(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.util.List <strong>getScripts</strong>(java.util.Map args = [:])</h4>
                                <p> Get a list of script locations as absolute files. </p>
                            </li>
                        </ul>
                    
                        <a name="getSubDirectory(java.lang.String, java.lang.String, boolean, java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getSubDirectory</strong>(java.lang.String key, java.lang.String relativePath, boolean create = true, java.util.Map args = [:])</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getTempDir()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>getTempDir</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="getTenantUniqueKey()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.lang.String <strong>getTenantUniqueKey</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="init()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@javax.annotation.PostConstruct
void <strong>init</strong>()</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="mergeClientValues(java.util.Map)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.util.Map <strong>mergeClientValues</strong>(java.util.Map args = [:])</h4>
                                <p> If the service which wants this directory offers some additional values for substitution they can
 be passed in with an args map.  Any tentantId or tenantSubDomain which is passed in should
 override the default values.

 At the time this was written there were no services offering additional values, but tenantId and
 tenantSubDomain are used.

 The returned map is a shallow-cloned map.  This means that if the map passed in did not have tenantId
 or tenantSubDomain then it will not have those values after the call, but if some existing value is
 changed in the destination map then it will be changed in the original as well.
     <DL><DT><B>Parameters:</B></DT><DD><code>args</code> -  A Map of values to be passed to the configuration Closure, if it's a Closure.</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="setConfiguration(grails.config.Config)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.Override
void <strong>setConfiguration</strong>(grails.config.Config co)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="verifyOrCreateLocation(java.io.File, java.lang.String, boolean, def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>java.io.File <strong>verifyOrCreateLocation</strong>(java.io.File dir, java.lang.String key, boolean create, java.lang.Object wasAbsolute = false)</h4>
                                <p> verifyOrCreateLocation checks for validity of the directory before it's returned.
     <DL><DT><B>Parameters:</B></DT><DD><code>dir</code> -  (File) The File object to be tested.</DD><DD><code>key</code> -  (String) The key name in RallyDefaultConfig.groovy for example 'autocash.importDir'</DD><DD><code>create</code> -  (boolean) true to create the directory if absent, false to throw an error.</DD><DD><code>wasAbsolute</code> -  (boolean) True if the file was defined in the configuration as an absolute file.</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../index-all.html">Index</a></li>
        <li><a href="../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../index.html?grails/plugin/viewtools/AppResourceService" target="_top">Frames</a></li>
            <li><a href="AppResourceService.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;<li><a href="#field_summary">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            <li><a href="#field_detail">Field</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
